# Apache virtual host for the JEP Presenter web application.
#
# SETUP INSTRUCTIONS
# ==================
# 1. Copy or symlink this file into your Apache sites directory, e.g.:
#       sudo cp apache/jep-presenter.conf /etc/apache2/sites-available/jep-presenter.conf
#       sudo a2ensite jep-presenter
#       sudo systemctl reload apache2
#
# 2. Add the following line to /etc/hosts so the hostname resolves locally:
#       127.0.0.1   jep-presenter.local
#
# 3. Grant the Apache process user write access to the var/ directory so
#    SQLite can create and update the database file:
#       sudo chown www-data:www-data /home/woden/presentation/var
#       sudo chmod 750 /home/woden/presentation/var
#
#    On systems where the Apache user is not www-data (e.g. httpd on RHEL/Fedora),
#    substitute the correct user/group name from: ps aux | grep apache

<VirtualHost *:80>
    # ServerName jep-presenter.local
    # Uncomment the line above (and update if you chose a different hostname)
    # after adding the matching entry to /etc/hosts.
    #
    # NOTE: Until you uncomment ServerName, this vhost will act as the default
    # catch-all for port 80. This may interfere with other local virtual hosts.

    DocumentRoot /home/woden/presentation/www

    <Directory /home/woden/presentation/www>
        Options -Indexes +FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    # Keep include/ and var/ outside the web root â€” they must never be
    # served directly over HTTP.  The DocumentRoot above already achieves
    # this; the block below is an explicit belt-and-suspenders denial.
    <Directory /home/woden/presentation/include>
        Require all denied
    </Directory>

    <Directory /home/woden/presentation/var>
        Require all denied
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/jep-presenter-error.log
    CustomLog ${APACHE_LOG_DIR}/jep-presenter-access.log combined
</VirtualHost>
